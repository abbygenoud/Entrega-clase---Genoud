{"ast":null,"code":"import { inject } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { CATEGORIAS } from 'src/app/core/interfaces/categorias.ts/constants/categorias';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/core/services/carrito.service\";\nimport * as i3 from \"@ionic/angular\";\nimport * as i4 from \"../../core/components/contador-cantidad/contador-cantidad.component\";\nlet ProductoPage = /*#__PURE__*/(() => {\n  class ProductoPage {\n    //aca abajo lo mismo que en categoria.page.ts\n    constructor(activatedRoute, carritoService) {\n      this.activatedRoute = activatedRoute;\n      this.carritoService = carritoService;\n      this.router = inject(Router);\n      //creo una variable producto de tipo producto\n      this.producto = {\n        id: 0,\n        nombre: '',\n        precio: 0,\n        ingredientes: [],\n        imagen: ''\n      };\n      this.cantidad = 1;\n      activatedRoute.params.subscribe(params => {\n        console.log(params);\n        CATEGORIAS.forEach(categoria => {\n          const productoEncontrado = categoria.productos.find(producto => producto.id == params['id']);\n          if (productoEncontrado) {\n            this.producto = productoEncontrado;\n          }\n        });\n      });\n    }\n    //agarramos categorias, empezamos a ver si encontramos alguna que coincida con el id. Tenemos que ver que el contenido de la variable producto sea correcto, \n    // cuando encontramos el producto ponemos this.producto = rta\n    ngOnInit() {}\n    onAgregarAlCarritoClicked() {\n      console.log('CLICKEADO');\n      this.carritoService.agregarProducto(this.producto, this.cantidad);\n      //hay que reaccionar guardar el numero para despues poder mostrarlo\n      console.log(this.carritoService.carrito);\n      this.router.navigate(['tabs/tab1']);\n    }\n  }\n  ProductoPage.ɵfac = function ProductoPage_Factory(t) {\n    return new (t || ProductoPage)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.CarritoService));\n  };\n  ProductoPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProductoPage,\n    selectors: [[\"app-producto\"]],\n    decls: 21,\n    vars: 6,\n    consts: [[3, \"translucent\"], [\"slot\", \"start\"], [3, \"fullscreen\"], [\"collapse\", \"condense\"], [\"size\", \"large\"], [\"alt\", \"\", 3, \"src\"], [3, \"cantidadCambiada\"], [\"fill\", \"outline\", \"shape\", \"round\", \"color\", \"medium\", \"expand\", \"block\", 3, \"click\"]],\n    template: function ProductoPage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-header\", 0)(1, \"ion-toolbar\")(2, \"ion-title\");\n        i0.ɵɵtext(3, \"Producto\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"ion-buttons\", 1);\n        i0.ɵɵelement(5, \"ion-back-button\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(6, \"ion-content\", 2)(7, \"ion-header\", 3)(8, \"ion-toolbar\")(9, \"ion-title\", 4);\n        i0.ɵɵtext(10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"ion-buttons\", 1);\n        i0.ɵɵelement(12, \"ion-back-button\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelement(13, \"img\", 5);\n        i0.ɵɵelementStart(14, \"p\");\n        i0.ɵɵtext(15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"p\");\n        i0.ɵɵtext(17);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"app-contador-cantidad\", 6);\n        i0.ɵɵlistener(\"cantidadCambiada\", function ProductoPage_Template_app_contador_cantidad_cantidadCambiada_18_listener($event) {\n          return ctx.cantidad = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"ion-button\", 7);\n        i0.ɵɵlistener(\"click\", function ProductoPage_Template_ion_button_click_19_listener() {\n          return ctx.onAgregarAlCarritoClicked();\n        });\n        i0.ɵɵtext(20, \"Agregar al carrito\");\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"translucent\", true);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"fullscreen\", true);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(ctx.producto.nombre);\n        i0.ɵɵadvance(3);\n        i0.ɵɵpropertyInterpolate(\"src\", ctx.producto.imagen, i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.producto.ingredientes);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\"$\", ctx.producto.precio, \"\");\n      }\n    },\n    dependencies: [i3.IonBackButton, i3.IonButton, i3.IonButtons, i3.IonContent, i3.IonHeader, i3.IonTitle, i3.IonToolbar, i3.IonBackButtonDelegate, i4.ContadorCantidadComponent]\n  });\n  return ProductoPage;\n})();\nexport { ProductoPage };\nfunction ngOnInit() {\n  throw new Error('Function not implemented.');\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}